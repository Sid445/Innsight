<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="description" content="Innsight - Your trusted platform for finding and managing accommodations">
  <meta name="theme-color" content="#2563eb">
  <title>Login | Innsight</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="style.css">
  <style>
    .alert {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      padding: 15px 40px 15px 20px;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      z-index: 1000;
      font-size: 16px;
      display: flex;
      align-items: center;
      gap: 10px;
      animation: slideIn 0.3s ease-out;
      background-color: #e3f2fd;
      color: #0d47a1;
      border: 1px solid #bbdefb;
    }

    .close-alert {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      font-size: 20px;
      cursor: pointer;
      color: #666;
      padding: 5px;
    }

    @keyframes slideIn {
      from {
        transform: translate(-50%, -100%);
        opacity: 0;
      }
      to {
        transform: translate(-50%, 0);
        opacity: 1;
      }
    }
    /* Testimonials Section */
.testimonials {
    padding: 4rem 0;
    background: linear-gradient(to bottom, #f8fafc, #ffffff);
}

.section-title {
    text-align: center;
    font-size: 2.5rem;
    color: #1e293b;
    margin-bottom: 3rem;
}

.testimonial-slider {
    position: relative;
    max-width: 1000px;
    margin: 0 auto;
    overflow: hidden;
    padding: 1rem;
}

.testimonial-track {
    display: flex;
    transition: transform 0.5s ease;
}

.testimonial-card {
    min-width: 100%;
    padding: 2rem;
}

.testimonial-content {
    background: white;
    padding: 2rem;
    border-radius: 16px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease;
}

.testimonial-content:hover {
    transform: translateY(-5px);
}

.quote-icon {
    color: #2563eb;
    font-size: 2rem;
    margin-bottom: 1rem;
}

.testimonial-text {
    font-size: 1.1rem;
    line-height: 1.6;
    color: #4b5563;
    margin-bottom: 1.5rem;
}

.student-info {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.student-image {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid #2563eb;
}

.student-details h4 {
    font-size: 1.1rem;
    color: #1e293b;
    margin: 0;
}

.student-details p {
    color: #64748b;
    margin: 0.2rem 0;
}

.rating {
    color: #fbbf24;
    font-size: 0.9rem;
}

.nav-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: white;
    border: none;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    cursor: pointer;
    transition: all 0.3s ease;
}

.nav-btn:hover {
    background: #2563eb;
    color: white;
}

.prev {
    left: 0;
}

.next {
    right: 0;
}

.dots-container {
    display: flex;
    justify-content: center;
    gap: 0.5rem;
    margin-top: 2rem;
}

.dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: #cbd5e1;
    cursor: pointer;
    transition: all 0.3s ease;
}

.dot.active {
    background: #2563eb;
    transform: scale(1.2);
}

@media (max-width: 768px) {
    .testimonial-card {
        padding: 1rem;
    }

    .testimonial-content {
        padding: 1.5rem;
    }

    .section-title {
        font-size: 2rem;
    }
}
    
  </style>
</head>
<body>
  <nav class="navbar" role="navigation" aria-label="Main navigation">
    <div class="container">
        <div class="nav-brand">
            <a href="index.html">Innsight</a>
        </div>
        <button class="nav-toggle" aria-label="Toggle navigation">
            <i class="fas fa-bars"></i>
        </button>
        <div class="nav-menu">
            <a href="index.html" class="active">Home</a>
            <a href="about.html">About</a>
            <a href="contact.html">Contact</a>
            <div class="auth-buttons">
                <a href="signup.html" class="btn-signup">Sign Up</a>
            </div>
        </div>
    </div>
</nav>

  <main class="container" role="main">
    <div class="login-container fade-in">
      <h1>Welcome to Innsight</h1>
      <form id="loginForm" novalidate>
        <div id="error-message" class="error-message" role="alert" aria-live="polite"></div>
        <div class="form-group">
          <label for="email">Email</label>
          <div class="input-icon">
            <i class="fas fa-envelope" aria-hidden="true"></i>
            <input type="email" id="email" name="email" placeholder="Enter your email" required 
                   aria-required="true" autocomplete="email">
          </div>
        </div>
        <div class="form-group">
          <label for="password">Password</label>
          <div class="input-icon">
            <i class="fas fa-lock" aria-hidden="true"></i>
            <input type="password" id="password" name="password" placeholder="Enter your password" required
                   aria-required="true" autocomplete="current-password" minlength="8">
          </div>
        </div>
        <div class="form-group">
          <label for="role">Role</label>
          <div class="input-icon">
            <i class="fas fa-user" aria-hidden="true"></i>
            <select id="role" name="role" required aria-required="true">
              <option value="user">User</option>
              <option value="hostel-owner">Hostel Owner</option>
              <option value="room-owner">Room Owner</option>
            </select>
          </div>
        </div>
        <button type="submit" class="btn-primary">Login</button>
        <p class="text-center mt-4">New here? <a href="signup.html">Sign up</a></p>
      </form>
    </div>
    <section class="testimonials">
      <div class="container">
          <h2 class="section-title">What Our Students Say</h2>
          <div class="testimonial-slider">
              <div class="testimonial-track" id="testimonialTrack">
                  <!-- Testimonial 1 -->
                  <div class="testimonial-card">
                      <div class="testimonial-content">
                          <div class="quote-icon">
                              <i class="fas fa-quote-left"></i>
                          </div>
                          <p class="testimonial-text">
                              "Found the perfect hostel near my college through Innsight!!"
                          </p>
                          <div class="student-info">
                              <img src="https://randomuser.me/api/portraits/men/1.jpg" alt="Student" class="student-image">
                              <div class="student-details">
                                  <h4>Rahul Kumar</h4>
                                  <p>BITS Hyderabad</p>
                                  <div class="rating">
                                      <i class="fas fa-star"></i>
                                      <i class="fas fa-star"></i>
                                      <i class="fas fa-star"></i>
                                      <i class="fas fa-star"></i>
                                      <i class="fas fa-star"></i>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
  
                  <!-- Testimonial 2 -->
                  <div class="testimonial-card">
                      <div class="testimonial-content">
                          <div class="quote-icon">
                              <i class="fas fa-quote-left"></i>
                          </div>
                          <p class="testimonial-text">
                              "The map view feature made it so easy to find accommodation near my college. Highly recommended!"
                          </p>
                          <div class="student-info">
                              <img src="https://randomuser.me/api/portraits/women/1.jpg" alt="Student" class="student-image">
                              <div class="student-details">
                                  <h4>Priya Sharma</h4>
                                  <p>IIT Hyderabad</p>
                                  <div class="rating">
                                      <i class="fas fa-star"></i>
                                      <i class="fas fa-star"></i>
                                      <i class="fas fa-star"></i>
                                      <i class="fas fa-star"></i>
                                      <i class="fas fa-star-half-alt"></i>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
  
                  <!-- Testimonial 3 -->
                  <div class="testimonial-card">
                      <div class="testimonial-content">
                          <div class="quote-icon">
                              <i class="fas fa-quote-left"></i>
                          </div>
                          <p class="testimonial-text">
                              "Verified listings gave me peace of mind. The comparison feature helped me make the right choice."
                          </p>
                          <div class="student-info">
                              <img src="https://randomuser.me/api/portraits/men/2.jpg" alt="Student" class="student-image">
                              <div class="student-details">
                                  <h4>Arun Patel</h4>
                                  <p>IIIT Hyderabad</p>
                                  <div class="rating">
                                      <i class="fas fa-star"></i>
                                      <i class="fas fa-star"></i>
                                      <i class="fas fa-star"></i>
                                      <i class="fas fa-star"></i>
                                      <i class="far fa-star"></i>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
  
              <!-- Navigation Buttons -->
              <button class="nav-btn prev" id="prevBtn">
                  <i class="fas fa-chevron-left"></i>
              </button>
              <button class="nav-btn next" id="nextBtn">
                  <i class="fas fa-chevron-right"></i>
              </button>
  
              <!-- Dots Navigation -->
              <div class="dots-container" id="dotsContainer"></div>
          </div>
      </div>
  </section>
  </main>
  <footer class="footer" role="contentinfo">
    <div class="container">
      <p>&copy; 2024 Innsight. All rights reserved.</p>
    </div>
  </footer>
  <script src="main.js" defer></script>
  <script>
    function showAlert(message) {
      const alertDiv = document.createElement('div');
      alertDiv.className = 'alert alert-info';
      alertDiv.innerHTML = `
        <i class="fas fa-info-circle"></i>
        ${message}
        <button class="close-alert" onclick="this.parentElement.remove()">×</button>
      `;
      document.body.insertBefore(alertDiv, document.body.firstChild);
      setTimeout(() => alertDiv.remove(), 5000);
    }

    document.getElementById('loginForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Get form values
        const email = document.getElementById('email').value.trim();
        const password = document.getElementById('password').value;
        const role = document.getElementById('role').value;
        
        // Basic validation
        if (!email || !password) {
          showAlert('Please fill in all fields');
          return;
        }

        // Email validation
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
          showAlert('Please enter a valid email address');
          return;
        }

        // Password validation
        if (password.length < 8) {
          showAlert('Password must be at least 8 characters long');
          return;
        }

        // Get username from email and capitalize first letter
        const username = email.split('@')[0];
        const formattedUsername = username.charAt(0).toUpperCase() + username.slice(1);
        
       // Create user object
    const user = {
        email: email,
        name: formattedUsername,
        role: role
    };

    // Show success message
    showAlert('Login successful! Redirecting...', 'success');

    // Role-based redirection
    setTimeout(() => {
        switch(role) {
            case 'user':
                window.location.href = 'user_dashboard.html';
                break;
            case 'hostel-owner':
            case 'room-owner':
                window.location.href = 'owner_dashboard.html'; // Make sure this matches your file name
                break;
            default:
                showAlert('Invalid role selected');
        }
    }, 1500);
});

    // Add input validation feedback
    document.getElementById('email').addEventListener('input', function(e) {
        const email = e.target.value.trim();
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        
        if (email && !emailRegex.test(email)) {
            this.classList.add('invalid');
        } else {
            this.classList.remove('invalid');
        }
    });

    document.getElementById('password').addEventListener('input', function(e) {
        if (e.target.value.length > 0 && e.target.value.length < 8) {
            this.classList.add('invalid');
        } else {
            this.classList.remove('invalid');
        }
    });

    function handleCitySearch() {
      const city = document.getElementById('citySearch').value.trim().toLowerCase();
      
      if (city === 'hyderabad') {
        window.location.href = 'index.html';
      } else if (city === 'bangalore') {
        window.location.href = 'bangalore-listings.html';
      } else if (city) {
        showAlert('Currently available only in Hyderabad and Bangalore');
      }
    }

    // Add event listener for Enter key
    document.getElementById('citySearch')?.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        handleCitySearch();
      }
    });
    // Add this to your existing JavaScript or create a new file
document.addEventListener('DOMContentLoaded', function() {
    const track = document.getElementById('testimonialTrack');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const dotsContainer = document.getElementById('dotsContainer');
    const cards = track.getElementsByClassName('testimonial-card');
    let currentIndex = 0;

    // Create dots
    for (let i = 0; i < cards.length; i++) {
        const dot = document.createElement('div');
        dot.className = `dot ${i === 0 ? 'active' : ''}`;
        dot.addEventListener('click', () => goToSlide(i));
        dotsContainer.appendChild(dot);
    }

    // Update dots
    function updateDots() {
        const dots = dotsContainer.getElementsByClassName('dot');
        for (let i = 0; i < dots.length; i++) {
            dots[i].classList.toggle('active', i === currentIndex);
        }
    }

    // Go to specific slide
    function goToSlide(index) {
        currentIndex = index;
        track.style.transform = `translateX(-${currentIndex * 100}%)`;
        updateDots();
    }

    // Next slide
    function nextSlide() {
        currentIndex = (currentIndex + 1) % cards.length;
        goToSlide(currentIndex);
    }

    // Previous slide
    function prevSlide() {
        currentIndex = (currentIndex - 1 + cards.length) % cards.length;
        goToSlide(currentIndex);
    }

    // Event listeners
    prevBtn.addEventListener('click', prevSlide);
    nextBtn.addEventListener('click', nextSlide);

    // Auto-play
    let autoplayInterval = setInterval(nextSlide, 5000);

    // Pause auto-play on hover
    track.addEventListener('mouseenter', () => clearInterval(autoplayInterval));
    track.addEventListener('mouseleave', () => {
        autoplayInterval = setInterval(nextSlide, 5000);
    });

    // Touch support
    let touchStartX = 0;
    let touchEndX = 0;

    track.addEventListener('touchstart', e => {
        touchStartX = e.touches[0].clientX;
    });

    track.addEventListener('touchend', e => {
        touchEndX = e.changedTouches[0].clientX;
        if (touchStartX - touchEndX > 50) {
            nextSlide();
        } else if (touchEndX - touchStartX > 50) {
            prevSlide();
        }
    });
});
</script>
</body>
</html>
